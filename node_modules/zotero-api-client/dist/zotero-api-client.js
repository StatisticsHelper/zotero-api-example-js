!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ZoteroApiClient={})}(this,(function(e){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var n={exports:{}},o={exports:{}},i=function(e){return e&&e.Math==Math&&e},s=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof t&&t)||function(){return this}()||Function("return this")(),u=function(e){try{return!!e()}catch(e){return!0}},a=!u((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),c=a,f=Function.prototype,l=f.apply,p=f.call,h="object"==typeof Reflect&&Reflect.apply||(c?p.bind(l):function(){return p.apply(l,arguments)}),d=a,y=Function.prototype,v=y.bind,g=y.call,m=d&&v.bind(g,g),b=d?function(e){return e&&m(e)}:function(e){return e&&function(){return g.apply(e,arguments)}},w=function(e){return"function"==typeof e},O={},S=!u((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),x=a,R=Function.prototype.call,T=x?R.bind(R):function(){return R.apply(R,arguments)},j={},P={}.propertyIsEnumerable,A=Object.getOwnPropertyDescriptor,E=A&&!P.call({1:2},1);j.f=E?function(e){var t=A(this,e);return!!t&&t.enumerable}:P;var C,_,k=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},I=b,L=I({}.toString),M=I("".slice),U=function(e){return M(L(e),8,-1)},F=u,D=U,K=Object,N=b("".split),B=F((function(){return!K("z").propertyIsEnumerable(0)}))?function(e){return"String"==D(e)?N(e,""):K(e)}:K,V=TypeError,z=function(e){if(null==e)throw V("Can't call method on "+e);return e},G=B,q=z,W=function(e){return G(q(e))},H=w,$=function(e){return"object"==typeof e?null!==e:H(e)},J={},Y=J,Z=s,Q=w,X=function(e){return Q(e)?e:void 0},ee=function(e,t){return arguments.length<2?X(Y[e])||X(Z[e]):Y[e]&&Y[e][t]||Z[e]&&Z[e][t]},te=b({}.isPrototypeOf),re=ee("navigator","userAgent")||"",ne=s,oe=re,ie=ne.process,se=ne.Deno,ue=ie&&ie.versions||se&&se.version,ae=ue&&ue.v8;ae&&(_=(C=ae.split("."))[0]>0&&C[0]<4?1:+(C[0]+C[1])),!_&&oe&&(!(C=oe.match(/Edge\/(\d+)/))||C[1]>=74)&&(C=oe.match(/Chrome\/(\d+)/))&&(_=+C[1]);var ce=_,fe=ce,le=u,pe=!!Object.getOwnPropertySymbols&&!le((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&fe&&fe<41})),he=pe&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,de=ee,ye=w,ve=te,ge=Object,me=he?function(e){return"symbol"==typeof e}:function(e){var t=de("Symbol");return ye(t)&&ve(t.prototype,ge(e))},be=String,we=function(e){try{return be(e)}catch(e){return"Object"}},Oe=w,Se=we,xe=TypeError,Re=function(e){if(Oe(e))return e;throw xe(Se(e)+" is not a function")},Te=Re,je=function(e,t){var r=e[t];return null==r?void 0:Te(r)},Pe=T,Ae=w,Ee=$,Ce=TypeError,_e={exports:{}},ke=s,Ie=Object.defineProperty,Le=function(e,t){try{Ie(ke,e,{value:t,configurable:!0,writable:!0})}catch(r){ke[e]=t}return t},Me="__core-js_shared__",Ue=s[Me]||Le(Me,{}),Fe=Ue;(_e.exports=function(e,t){return Fe[e]||(Fe[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.22.8",mode:"pure",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.8/LICENSE",source:"https://github.com/zloirock/core-js"});var De=z,Ke=Object,Ne=function(e){return Ke(De(e))},Be=Ne,Ve=b({}.hasOwnProperty),ze=Object.hasOwn||function(e,t){return Ve(Be(e),t)},Ge=b,qe=0,We=Math.random(),He=Ge(1..toString),$e=function(e){return"Symbol("+(void 0===e?"":e)+")_"+He(++qe+We,36)},Je=s,Ye=_e.exports,Ze=ze,Qe=$e,Xe=pe,et=he,tt=Ye("wks"),rt=Je.Symbol,nt=rt&&rt.for,ot=et?rt:rt&&rt.withoutSetter||Qe,it=function(e){if(!Ze(tt,e)||!Xe&&"string"!=typeof tt[e]){var t="Symbol."+e;Xe&&Ze(rt,e)?tt[e]=rt[e]:tt[e]=et&&nt?nt(t):ot(t)}return tt[e]},st=T,ut=$,at=me,ct=je,ft=function(e,t){var r,n;if("string"===t&&Ae(r=e.toString)&&!Ee(n=Pe(r,e)))return n;if(Ae(r=e.valueOf)&&!Ee(n=Pe(r,e)))return n;if("string"!==t&&Ae(r=e.toString)&&!Ee(n=Pe(r,e)))return n;throw Ce("Can't convert object to primitive value")},lt=TypeError,pt=it("toPrimitive"),ht=function(e,t){if(!ut(e)||at(e))return e;var r,n=ct(e,pt);if(n){if(void 0===t&&(t="default"),r=st(n,e,t),!ut(r)||at(r))return r;throw lt("Can't convert object to primitive value")}return void 0===t&&(t="number"),ft(e,t)},dt=me,yt=function(e){var t=ht(e,"string");return dt(t)?t:t+""},vt=$,gt=s.document,mt=vt(gt)&&vt(gt.createElement),bt=function(e){return mt?gt.createElement(e):{}},wt=bt,Ot=!S&&!u((function(){return 7!=Object.defineProperty(wt("div"),"a",{get:function(){return 7}}).a})),St=S,xt=T,Rt=j,Tt=k,jt=W,Pt=yt,At=ze,Et=Ot,Ct=Object.getOwnPropertyDescriptor;O.f=St?Ct:function(e,t){if(e=jt(e),t=Pt(t),Et)try{return Ct(e,t)}catch(e){}if(At(e,t))return Tt(!xt(Rt.f,e,t),e[t])};var _t=u,kt=w,It=/#|\.prototype\./,Lt=function(e,t){var r=Ut[Mt(e)];return r==Dt||r!=Ft&&(kt(t)?_t(t):!!t)},Mt=Lt.normalize=function(e){return String(e).replace(It,".").toLowerCase()},Ut=Lt.data={},Ft=Lt.NATIVE="N",Dt=Lt.POLYFILL="P",Kt=Lt,Nt=Re,Bt=a,Vt=b(b.bind),zt=function(e,t){return Nt(e),void 0===t?e:Bt?Vt(e,t):function(){return e.apply(t,arguments)}},Gt={},qt=S&&u((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Wt=$,Ht=String,$t=TypeError,Jt=function(e){if(Wt(e))return e;throw $t(Ht(e)+" is not an object")},Yt=S,Zt=Ot,Qt=qt,Xt=Jt,er=yt,tr=TypeError,rr=Object.defineProperty,nr=Object.getOwnPropertyDescriptor,or="enumerable",ir="configurable",sr="writable";Gt.f=Yt?Qt?function(e,t,r){if(Xt(e),t=er(t),Xt(r),"function"==typeof e&&"prototype"===t&&"value"in r&&sr in r&&!r.writable){var n=nr(e,t);n&&n.writable&&(e[t]=r.value,r={configurable:ir in r?r.configurable:n.configurable,enumerable:or in r?r.enumerable:n.enumerable,writable:!1})}return rr(e,t,r)}:rr:function(e,t,r){if(Xt(e),t=er(t),Xt(r),Zt)try{return rr(e,t,r)}catch(e){}if("get"in r||"set"in r)throw tr("Accessors not supported");return"value"in r&&(e[t]=r.value),e};var ur=Gt,ar=k,cr=S?function(e,t,r){return ur.f(e,t,ar(1,r))}:function(e,t,r){return e[t]=r,e},fr=s,lr=h,pr=b,hr=w,dr=O.f,yr=Kt,vr=J,gr=zt,mr=cr,br=ze,wr=function(e){var t=function(r,n,o){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(r);case 2:return new e(r,n)}return new e(r,n,o)}return lr(e,this,arguments)};return t.prototype=e.prototype,t},Or=function(e,t){var r,n,o,i,s,u,a,c,f=e.target,l=e.global,p=e.stat,h=e.proto,d=l?fr:p?fr[f]:(fr[f]||{}).prototype,y=l?vr:vr[f]||mr(vr,f,{})[f],v=y.prototype;for(o in t)r=!yr(l?o:f+(p?".":"#")+o,e.forced)&&d&&br(d,o),s=y[o],r&&(u=e.dontCallGetSet?(c=dr(d,o))&&c.value:d[o]),i=r&&u?u:t[o],r&&typeof s==typeof i||(a=e.bind&&r?gr(i,fr):e.wrap&&r?wr(i):h&&hr(i)?pr(i):i,(e.sham||i&&i.sham||s&&s.sham)&&mr(a,"sham",!0),mr(y,o,a),h&&(br(vr,n=f+"Prototype")||mr(vr,n,{}),mr(vr[n],o,i),e.real&&v&&!v[o]&&mr(v,o,i)))},Sr=_e.exports,xr=$e,Rr=Sr("keys"),Tr=function(e){return Rr[e]||(Rr[e]=xr(e))},jr=!u((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Pr=ze,Ar=w,Er=Ne,Cr=jr,_r=Tr("IE_PROTO"),kr=Object,Ir=kr.prototype,Lr=Cr?kr.getPrototypeOf:function(e){var t=Er(e);if(Pr(t,_r))return t[_r];var r=t.constructor;return Ar(r)&&t instanceof r?r.prototype:t instanceof kr?Ir:null},Mr=w,Ur=String,Fr=TypeError,Dr=b,Kr=Jt,Nr=function(e){if("object"==typeof e||Mr(e))return e;throw Fr("Can't set "+Ur(e)+" as a prototype")},Br=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Dr(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return Kr(r),Nr(n),t?e(r,n):r.__proto__=n,r}}():void 0),Vr={},zr=Math.ceil,Gr=Math.floor,qr=Math.trunc||function(e){var t=+e;return(t>0?Gr:zr)(t)},Wr=function(e){var t=+e;return t!=t||0===t?0:qr(t)},Hr=Wr,$r=Math.max,Jr=Math.min,Yr=Wr,Zr=Math.min,Qr=function(e){return e>0?Zr(Yr(e),9007199254740991):0},Xr=Qr,en=function(e){return Xr(e.length)},tn=W,rn=function(e,t){var r=Hr(e);return r<0?$r(r+t,0):Jr(r,t)},nn=en,on=function(e){return function(t,r,n){var o,i=tn(t),s=nn(i),u=rn(n,s);if(e&&r!=r){for(;s>u;)if((o=i[u++])!=o)return!0}else for(;s>u;u++)if((e||u in i)&&i[u]===r)return e||u||0;return!e&&-1}},sn={includes:on(!0),indexOf:on(!1)},un={},an=ze,cn=W,fn=sn.indexOf,ln=un,pn=b([].push),hn=function(e,t){var r,n=cn(e),o=0,i=[];for(r in n)!an(ln,r)&&an(n,r)&&pn(i,r);for(;t.length>o;)an(n,r=t[o++])&&(~fn(i,r)||pn(i,r));return i},dn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],yn=hn,vn=dn.concat("length","prototype");Vr.f=Object.getOwnPropertyNames||function(e){return yn(e,vn)};var gn={};gn.f=Object.getOwnPropertySymbols;var mn=ee,bn=Vr,wn=gn,On=Jt,Sn=b([].concat),xn=mn("Reflect","ownKeys")||function(e){var t=bn.f(On(e)),r=wn.f;return r?Sn(t,r(e)):t},Rn=ze,Tn=xn,jn=O,Pn=Gt,An={},En=hn,Cn=dn,_n=Object.keys||function(e){return En(e,Cn)},kn=S,In=qt,Ln=Gt,Mn=Jt,Un=W,Fn=_n;An.f=kn&&!In?Object.defineProperties:function(e,t){Mn(e);for(var r,n=Un(t),o=Fn(t),i=o.length,s=0;i>s;)Ln.f(e,r=o[s++],n[r]);return e};var Dn,Kn=ee("document","documentElement"),Nn=Jt,Bn=An,Vn=dn,zn=un,Gn=Kn,qn=bt,Wn=Tr("IE_PROTO"),Hn=function(){},$n=function(e){return"<script>"+e+"</"+"script>"},Jn=function(e){e.write($n("")),e.close();var t=e.parentWindow.Object;return e=null,t},Yn=function(){try{Dn=new ActiveXObject("htmlfile")}catch(e){}var e,t;Yn="undefined"!=typeof document?document.domain&&Dn?Jn(Dn):((t=qn("iframe")).style.display="none",Gn.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write($n("document.F=Object")),e.close(),e.F):Jn(Dn);for(var r=Vn.length;r--;)delete Yn.prototype[Vn[r]];return Yn()};zn[Wn]=!0;var Zn=Object.create||function(e,t){var r;return null!==e?(Hn.prototype=Nn(e),r=new Hn,Hn.prototype=null,r[Wn]=e):r=Yn(),void 0===t?r:Bn.f(r,t)},Qn=Error,Xn=b("".replace),eo=String(Qn("zxcasd").stack),to=/\n\s*at [^:]*:[^\n]*/,ro=to.test(eo),no=$,oo=cr,io={},so=io,uo=it("iterator"),ao=Array.prototype,co={};co[it("toStringTag")]="z";var fo="[object z]"===String(co),lo=fo,po=w,ho=U,yo=it("toStringTag"),vo=Object,go="Arguments"==ho(function(){return arguments}()),mo=lo?ho:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=vo(e),yo))?r:go?ho(t):"Object"==(n=ho(t))&&po(t.callee)?"Arguments":n},bo=mo,wo=je,Oo=io,So=it("iterator"),xo=function(e){if(null!=e)return wo(e,So)||wo(e,"@@iterator")||Oo[bo(e)]},Ro=T,To=Re,jo=Jt,Po=we,Ao=xo,Eo=TypeError,Co=T,_o=Jt,ko=je,Io=zt,Lo=T,Mo=Jt,Uo=we,Fo=function(e){return void 0!==e&&(so.Array===e||ao[uo]===e)},Do=en,Ko=te,No=function(e,t){var r=arguments.length<2?Ao(e):t;if(To(r))return jo(Ro(r,e));throw Eo(Po(e)+" is not iterable")},Bo=xo,Vo=function(e,t,r){var n,o;_o(e);try{if(!(n=ko(e,"return"))){if("throw"===t)throw r;return r}n=Co(n,e)}catch(e){o=!0,n=e}if("throw"===t)throw r;if(o)throw n;return _o(n),r},zo=TypeError,Go=function(e,t){this.stopped=e,this.result=t},qo=Go.prototype,Wo=function(e,t,r){var n,o,i,s,u,a,c,f=r&&r.that,l=!(!r||!r.AS_ENTRIES),p=!(!r||!r.IS_ITERATOR),h=!(!r||!r.INTERRUPTED),d=Io(t,f),y=function(e){return n&&Vo(n,"normal",e),new Go(!0,e)},v=function(e){return l?(Mo(e),h?d(e[0],e[1],y):d(e[0],e[1])):h?d(e,y):d(e)};if(p)n=e;else{if(!(o=Bo(e)))throw zo(Uo(e)+" is not iterable");if(Fo(o)){for(i=0,s=Do(e);s>i;i++)if((u=v(e[i]))&&Ko(qo,u))return u;return new Go(!1)}n=No(e,o)}for(a=n.next;!(c=Lo(a,n)).done;){try{u=v(c.value)}catch(e){Vo(n,"throw",e)}if("object"==typeof u&&u&&Ko(qo,u))return u}return new Go(!1)},Ho=mo,$o=String,Jo=function(e){if("Symbol"===Ho(e))throw TypeError("Cannot convert a Symbol value to a string");return $o(e)},Yo=Jo,Zo=k,Qo=!u((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",Zo(1,7)),7!==e.stack)})),Xo=Or,ei=te,ti=Lr,ri=Br,ni=function(e,t,r){for(var n=Tn(t),o=Pn.f,i=jn.f,s=0;s<n.length;s++){var u=n[s];Rn(e,u)||r&&Rn(r,u)||o(e,u,i(t,u))}},oi=Zn,ii=cr,si=k,ui=function(e,t){if(ro&&"string"==typeof e&&!Qn.prepareStackTrace)for(;t--;)e=Xn(e,to,"");return e},ai=function(e,t){no(t)&&"cause"in t&&oo(e,"cause",t.cause)},ci=Wo,fi=function(e,t){return void 0===e?arguments.length<2?"":t:Yo(e)},li=Qo,pi=it("toStringTag"),hi=Error,di=[].push,yi=function(e,t){var r,n=arguments.length>2?arguments[2]:void 0,o=ei(vi,this);ri?r=ri(new hi,o?ti(this):vi):(r=o?this:oi(vi),ii(r,pi,"Error")),void 0!==t&&ii(r,"message",fi(t)),li&&ii(r,"stack",ui(r.stack,1)),ai(r,n);var i=[];return ci(e,di,{that:i}),ii(r,"errors",i),r};ri?ri(yi,hi):ni(yi,hi,{name:!0});var vi=yi.prototype=oi(hi.prototype,{constructor:si(1,yi),message:si(1,""),name:si(1,"AggregateError")});Xo({global:!0,constructor:!0,arity:2},{AggregateError:yi});var gi=w,mi=Ue,bi=b(Function.toString);gi(mi.inspectSource)||(mi.inspectSource=function(e){return bi(e)});var wi,Oi,Si,xi=mi.inspectSource,Ri=w,Ti=xi,ji=s.WeakMap,Pi=Ri(ji)&&/native code/.test(Ti(ji)),Ai=s,Ei=b,Ci=$,_i=cr,ki=ze,Ii=Ue,Li=Tr,Mi=un,Ui="Object already initialized",Fi=Ai.TypeError,Di=Ai.WeakMap;if(Pi||Ii.state){var Ki=Ii.state||(Ii.state=new Di),Ni=Ei(Ki.get),Bi=Ei(Ki.has),Vi=Ei(Ki.set);wi=function(e,t){if(Bi(Ki,e))throw new Fi(Ui);return t.facade=e,Vi(Ki,e,t),t},Oi=function(e){return Ni(Ki,e)||{}},Si=function(e){return Bi(Ki,e)}}else{var zi=Li("state");Mi[zi]=!0,wi=function(e,t){if(ki(e,zi))throw new Fi(Ui);return t.facade=e,_i(e,zi,t),t},Oi=function(e){return ki(e,zi)?e[zi]:{}},Si=function(e){return ki(e,zi)}}var Gi,qi,Wi,Hi={set:wi,get:Oi,has:Si,enforce:function(e){return Si(e)?Oi(e):wi(e,{})},getterFor:function(e){return function(t){var r;if(!Ci(t)||(r=Oi(t)).type!==e)throw Fi("Incompatible receiver, "+e+" required");return r}}},$i=S,Ji=ze,Yi=Function.prototype,Zi=$i&&Object.getOwnPropertyDescriptor,Qi=Ji(Yi,"name"),Xi={EXISTS:Qi,PROPER:Qi&&"something"===function(){}.name,CONFIGURABLE:Qi&&(!$i||$i&&Zi(Yi,"name").configurable)},es=cr,ts=function(e,t,r,n){return n&&n.enumerable?e[t]=r:es(e,t,r),e},rs=u,ns=w,os=Zn,is=Lr,ss=ts,us=it("iterator"),as=!1;[].keys&&("next"in(Wi=[].keys())?(qi=is(is(Wi)))!==Object.prototype&&(Gi=qi):as=!0);var cs=null==Gi||rs((function(){var e={};return Gi[us].call(e)!==e}));ns((Gi=cs?{}:os(Gi))[us])||ss(Gi,us,(function(){return this}));var fs={IteratorPrototype:Gi,BUGGY_SAFARI_ITERATORS:as},ls=mo,ps=fo?{}.toString:function(){return"[object "+ls(this)+"]"},hs=fo,ds=Gt.f,ys=cr,vs=ze,gs=ps,ms=it("toStringTag"),bs=function(e,t,r,n){if(e){var o=r?e:e.prototype;vs(o,ms)||ds(o,ms,{configurable:!0,value:t}),n&&!hs&&ys(o,"toString",gs)}},ws=fs.IteratorPrototype,Os=Zn,Ss=k,xs=bs,Rs=io,Ts=function(){return this},js=function(e,t,r,n){var o=t+" Iterator";return e.prototype=Os(ws,{next:Ss(+!n,r)}),xs(e,o,!1,!0),Rs[o]=Ts,e},Ps=Or,As=T,Es=js,Cs=Lr,_s=bs,ks=ts,Is=io,Ls=Xi.PROPER,Ms=fs.BUGGY_SAFARI_ITERATORS,Us=it("iterator"),Fs="keys",Ds="values",Ks="entries",Ns=function(){return this},Bs=function(e,t,r,n,o,i,s){Es(r,t,n);var u,a,c,f=function(e){if(e===o&&y)return y;if(!Ms&&e in h)return h[e];switch(e){case Fs:case Ds:case Ks:return function(){return new r(this,e)}}return function(){return new r(this)}},l=t+" Iterator",p=!1,h=e.prototype,d=h[Us]||h["@@iterator"]||o&&h[o],y=!Ms&&d||f(o),v="Array"==t&&h.entries||d;if(v&&(u=Cs(v.call(new e)))!==Object.prototype&&u.next&&(_s(u,l,!0,!0),Is[l]=Ns),Ls&&o==Ds&&d&&d.name!==Ds&&(p=!0,y=function(){return As(d,this)}),o)if(a={values:f(Ds),keys:i?y:f(Fs),entries:f(Ks)},s)for(c in a)(Ms||p||!(c in h))&&ks(h,c,a[c]);else Ps({target:t,proto:!0,forced:Ms||p},a);return s&&h[Us]!==y&&ks(h,Us,y,{name:o}),Is[t]=y,a},Vs=W,zs=io,Gs=Hi;Gt.f;var qs=Bs,Ws="Array Iterator",Hs=Gs.set,$s=Gs.getterFor(Ws);qs(Array,"Array",(function(e,t){Hs(this,{type:Ws,target:Vs(e),index:0,kind:t})}),(function(){var e=$s(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),zs.Arguments=zs.Array;var Js="process"==U(s.process),Ys=ee,Zs=Gt,Qs=S,Xs=it("species"),eu=te,tu=TypeError,ru=b,nu=u,ou=w,iu=mo,su=xi,uu=function(){},au=[],cu=ee("Reflect","construct"),fu=/^\s*(?:class|function)\b/,lu=ru(fu.exec),pu=!fu.exec(uu),hu=function(e){if(!ou(e))return!1;try{return cu(uu,au,e),!0}catch(e){return!1}},du=function(e){if(!ou(e))return!1;switch(iu(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return pu||!!lu(fu,su(e))}catch(e){return!0}};du.sham=!0;var yu,vu,gu,mu,bu=!cu||nu((function(){var e;return hu(hu.call)||!hu(Object)||!hu((function(){e=!0}))||e}))?du:hu,wu=bu,Ou=we,Su=TypeError,xu=Jt,Ru=function(e){if(wu(e))return e;throw Su(Ou(e)+" is not a constructor")},Tu=it("species"),ju=function(e,t){var r,n=xu(e).constructor;return void 0===n||null==(r=xu(n)[Tu])?t:Ru(r)},Pu=b([].slice),Au=TypeError,Eu=/(?:ipad|iphone|ipod).*applewebkit/i.test(re),Cu=s,_u=h,ku=zt,Iu=w,Lu=ze,Mu=u,Uu=Kn,Fu=Pu,Du=bt,Ku=function(e,t){if(e<t)throw Au("Not enough arguments");return e},Nu=Eu,Bu=Js,Vu=Cu.setImmediate,zu=Cu.clearImmediate,Gu=Cu.process,qu=Cu.Dispatch,Wu=Cu.Function,Hu=Cu.MessageChannel,$u=Cu.String,Ju=0,Yu={},Zu="onreadystatechange";try{yu=Cu.location}catch(e){}var Qu=function(e){if(Lu(Yu,e)){var t=Yu[e];delete Yu[e],t()}},Xu=function(e){return function(){Qu(e)}},ea=function(e){Qu(e.data)},ta=function(e){Cu.postMessage($u(e),yu.protocol+"//"+yu.host)};Vu&&zu||(Vu=function(e){Ku(arguments.length,1);var t=Iu(e)?e:Wu(e),r=Fu(arguments,1);return Yu[++Ju]=function(){_u(t,void 0,r)},vu(Ju),Ju},zu=function(e){delete Yu[e]},Bu?vu=function(e){Gu.nextTick(Xu(e))}:qu&&qu.now?vu=function(e){qu.now(Xu(e))}:Hu&&!Nu?(mu=(gu=new Hu).port2,gu.port1.onmessage=ea,vu=ku(mu.postMessage,mu)):Cu.addEventListener&&Iu(Cu.postMessage)&&!Cu.importScripts&&yu&&"file:"!==yu.protocol&&!Mu(ta)?(vu=ta,Cu.addEventListener("message",ea,!1)):vu=Zu in Du("script")?function(e){Uu.appendChild(Du("script")).onreadystatechange=function(){Uu.removeChild(this),Qu(e)}}:function(e){setTimeout(Xu(e),0)});var ra,na,oa,ia,sa,ua,aa,ca,fa={set:Vu,clear:zu},la=s,pa=/ipad|iphone|ipod/i.test(re)&&void 0!==la.Pebble,ha=/web0s(?!.*chrome)/i.test(re),da=s,ya=zt,va=O.f,ga=fa.set,ma=Eu,ba=pa,wa=ha,Oa=Js,Sa=da.MutationObserver||da.WebKitMutationObserver,xa=da.document,Ra=da.process,Ta=da.Promise,ja=va(da,"queueMicrotask"),Pa=ja&&ja.value;Pa||(ra=function(){var e,t;for(Oa&&(e=Ra.domain)&&e.exit();na;){t=na.fn,na=na.next;try{t()}catch(e){throw na?ia():oa=void 0,e}}oa=void 0,e&&e.enter()},ma||Oa||wa||!Sa||!xa?!ba&&Ta&&Ta.resolve?((aa=Ta.resolve(void 0)).constructor=Ta,ca=ya(aa.then,aa),ia=function(){ca(ra)}):Oa?ia=function(){Ra.nextTick(ra)}:(ga=ya(ga,da),ia=function(){ga(ra)}):(sa=!0,ua=xa.createTextNode(""),new Sa(ra).observe(ua,{characterData:!0}),ia=function(){ua.data=sa=!sa}));var Aa=Pa||function(e){var t={fn:e,next:void 0};oa&&(oa.next=t),na||(na=t,ia()),oa=t},Ea=s,Ca=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},_a=function(){this.head=null,this.tail=null};_a.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var ka=_a,Ia=s.Promise,La="object"==typeof window&&"object"!=typeof Deno,Ma=s,Ua=Ia,Fa=w,Da=Kt,Ka=xi,Na=it,Ba=La,Va=ce,za=Ua&&Ua.prototype,Ga=Na("species"),qa=!1,Wa=Fa(Ma.PromiseRejectionEvent),Ha=Da("Promise",(function(){var e=Ka(Ua),t=e!==String(Ua);if(!t&&66===Va)return!0;if(!za.catch||!za.finally)return!0;if(Va>=51&&/native code/.test(e))return!1;var r=new Ua((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};return(r.constructor={})[Ga]=n,!(qa=r.then((function(){}))instanceof n)||!t&&Ba&&!Wa})),$a={CONSTRUCTOR:Ha,REJECTION_EVENT:Wa,SUBCLASSING:qa},Ja={},Ya=Re,Za=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=Ya(t),this.reject=Ya(r)};Ja.f=function(e){return new Za(e)};var Qa,Xa,ec=Or,tc=Js,rc=s,nc=T,oc=ts,ic=bs,sc=function(e){var t=Ys(e),r=Zs.f;Qs&&t&&!t[Xs]&&r(t,Xs,{configurable:!0,get:function(){return this}})},uc=Re,ac=w,cc=$,fc=function(e,t){if(eu(t,e))return e;throw tu("Incorrect invocation")},lc=ju,pc=fa.set,hc=Aa,dc=function(e,t){var r=Ea.console;r&&r.error&&(1==arguments.length?r.error(e):r.error(e,t))},yc=Ca,vc=ka,gc=Hi,mc=Ia,bc=Ja,wc="Promise",Oc=$a.CONSTRUCTOR,Sc=$a.REJECTION_EVENT,xc=gc.getterFor(wc),Rc=gc.set,Tc=mc&&mc.prototype,jc=mc,Pc=Tc,Ac=rc.TypeError,Ec=rc.document,Cc=rc.process,_c=bc.f,kc=_c,Ic=!!(Ec&&Ec.createEvent&&rc.dispatchEvent),Lc="unhandledrejection",Mc=function(e){var t;return!(!cc(e)||!ac(t=e.then))&&t},Uc=function(e,t){var r,n,o,i=t.value,s=1==t.state,u=s?e.ok:e.fail,a=e.resolve,c=e.reject,f=e.domain;try{u?(s||(2===t.rejection&&Bc(t),t.rejection=1),!0===u?r=i:(f&&f.enter(),r=u(i),f&&(f.exit(),o=!0)),r===e.promise?c(Ac("Promise-chain cycle")):(n=Mc(r))?nc(n,r,a,c):a(r)):c(i)}catch(e){f&&!o&&f.exit(),c(e)}},Fc=function(e,t){e.notified||(e.notified=!0,hc((function(){for(var r,n=e.reactions;r=n.get();)Uc(r,e);e.notified=!1,t&&!e.rejection&&Kc(e)})))},Dc=function(e,t,r){var n,o;Ic?((n=Ec.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),rc.dispatchEvent(n)):n={promise:t,reason:r},!Sc&&(o=rc["on"+e])?o(n):e===Lc&&dc("Unhandled promise rejection",r)},Kc=function(e){nc(pc,rc,(function(){var t,r=e.facade,n=e.value;if(Nc(e)&&(t=yc((function(){tc?Cc.emit("unhandledRejection",n,r):Dc(Lc,r,n)})),e.rejection=tc||Nc(e)?2:1,t.error))throw t.value}))},Nc=function(e){return 1!==e.rejection&&!e.parent},Bc=function(e){nc(pc,rc,(function(){var t=e.facade;tc?Cc.emit("rejectionHandled",t):Dc("rejectionhandled",t,e.value)}))},Vc=function(e,t,r){return function(n){e(t,n,r)}},zc=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,Fc(e,!0))},Gc=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw Ac("Promise can't be resolved itself");var n=Mc(t);n?hc((function(){var r={done:!1};try{nc(n,t,Vc(Gc,r,e),Vc(zc,r,e))}catch(t){zc(r,t,e)}})):(e.value=t,e.state=1,Fc(e,!1))}catch(t){zc({done:!1},t,e)}}};Oc&&(Pc=(jc=function(e){fc(this,Pc),uc(e),nc(Qa,this);var t=xc(this);try{e(Vc(Gc,t),Vc(zc,t))}catch(e){zc(t,e)}}).prototype,(Qa=function(e){Rc(this,{type:wc,done:!1,notified:!1,parent:!1,reactions:new vc,rejection:!1,state:0,value:void 0})}).prototype=oc(Pc,"then",(function(e,t){var r=xc(this),n=_c(lc(this,jc));return r.parent=!0,n.ok=!ac(e)||e,n.fail=ac(t)&&t,n.domain=tc?Cc.domain:void 0,0==r.state?r.reactions.add(n):hc((function(){Uc(n,r)})),n.promise})),Xa=function(){var e=new Qa,t=xc(e);this.promise=e,this.resolve=Vc(Gc,t),this.reject=Vc(zc,t)},bc.f=_c=function(e){return e===jc||undefined===e?new Xa(e):kc(e)}),ec({global:!0,constructor:!0,wrap:!0,forced:Oc},{Promise:jc}),ic(jc,wc,!1,!0),sc(wc);var qc=it("iterator"),Wc=!1;try{var Hc=0,$c={next:function(){return{done:!!Hc++}},return:function(){Wc=!0}};$c[qc]=function(){return this},Array.from($c,(function(){throw 2}))}catch(e){}var Jc=Ia,Yc=function(e,t){if(!t&&!Wc)return!1;var r=!1;try{var n={};n[qc]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(e){}return r},Zc=$a.CONSTRUCTOR||!Yc((function(e){Jc.all(e).then(void 0,(function(){}))})),Qc=T,Xc=Re,ef=Ja,tf=Ca,rf=Wo;Or({target:"Promise",stat:!0,forced:Zc},{all:function(e){var t=this,r=ef.f(t),n=r.resolve,o=r.reject,i=tf((function(){var r=Xc(t.resolve),i=[],s=0,u=1;rf(e,(function(e){var a=s++,c=!1;u++,Qc(r,t,e).then((function(e){c||(c=!0,i[a]=e,--u||n(i))}),o)})),--u||n(i)}));return i.error&&o(i.value),r.promise}});var nf=Or,of=$a.CONSTRUCTOR;Ia&&Ia.prototype,nf({target:"Promise",proto:!0,forced:of,real:!0},{catch:function(e){return this.then(void 0,e)}});var sf=T,uf=Re,af=Ja,cf=Ca,ff=Wo;Or({target:"Promise",stat:!0,forced:Zc},{race:function(e){var t=this,r=af.f(t),n=r.reject,o=cf((function(){var o=uf(t.resolve);ff(e,(function(e){sf(o,t,e).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}});var lf=T,pf=Ja;Or({target:"Promise",stat:!0,forced:$a.CONSTRUCTOR},{reject:function(e){var t=pf.f(this);return lf(t.reject,void 0,e),t.promise}});var hf=Jt,df=$,yf=Ja,vf=function(e,t){if(hf(e),df(t)&&t.constructor===e)return t;var r=yf.f(e);return(0,r.resolve)(t),r.promise},gf=Or,mf=Ia,bf=$a.CONSTRUCTOR,wf=vf,Of=ee("Promise"),Sf=!bf;gf({target:"Promise",stat:!0,forced:true},{resolve:function(e){return wf(Sf&&this===Of?mf:this,e)}});var xf=T,Rf=Re,Tf=Ja,jf=Ca,Pf=Wo;Or({target:"Promise",stat:!0},{allSettled:function(e){var t=this,r=Tf.f(t),n=r.resolve,o=r.reject,i=jf((function(){var r=Rf(t.resolve),o=[],i=0,s=1;Pf(e,(function(e){var u=i++,a=!1;s++,xf(r,t,e).then((function(e){a||(a=!0,o[u]={status:"fulfilled",value:e},--s||n(o))}),(function(e){a||(a=!0,o[u]={status:"rejected",reason:e},--s||n(o))}))})),--s||n(o)}));return i.error&&o(i.value),r.promise}});var Af=T,Ef=Re,Cf=ee,_f=Ja,kf=Ca,If=Wo,Lf="No one promise resolved";Or({target:"Promise",stat:!0},{any:function(e){var t=this,r=Cf("AggregateError"),n=_f.f(t),o=n.resolve,i=n.reject,s=kf((function(){var n=Ef(t.resolve),s=[],u=0,a=1,c=!1;If(e,(function(e){var f=u++,l=!1;a++,Af(n,t,e).then((function(e){l||c||(c=!0,o(e))}),(function(e){l||c||(l=!0,s[f]=e,--a||i(new r(s,Lf)))}))})),--a||i(new r(s,Lf))}));return s.error&&i(s.value),n.promise}});var Mf=Or,Uf=Ia,Ff=u,Df=ee,Kf=w,Nf=ju,Bf=vf,Vf=Uf&&Uf.prototype;Mf({target:"Promise",proto:!0,real:!0,forced:!!Uf&&Ff((function(){Vf.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=Nf(this,Df("Promise")),r=Kf(e);return this.then(r?function(r){return Bf(t,e()).then((function(){return r}))}:e,r?function(r){return Bf(t,e()).then((function(){throw r}))}:e)}});var zf=b,Gf=Wr,qf=Jo,Wf=z,Hf=zf("".charAt),$f=zf("".charCodeAt),Jf=zf("".slice),Yf=function(e){return function(t,r){var n,o,i=qf(Wf(t)),s=Gf(r),u=i.length;return s<0||s>=u?e?"":void 0:(n=$f(i,s))<55296||n>56319||s+1===u||(o=$f(i,s+1))<56320||o>57343?e?Hf(i,s):n:e?Jf(i,s,s+2):o-56320+(n-55296<<10)+65536}},Zf={codeAt:Yf(!1),charAt:Yf(!0)},Qf=Zf.charAt,Xf=Jo,el=Hi,tl=Bs,rl="String Iterator",nl=el.set,ol=el.getterFor(rl);tl(String,"String",(function(e){nl(this,{type:rl,string:Xf(e),index:0})}),(function(){var e,t=ol(this),r=t.string,n=t.index;return n>=r.length?{value:void 0,done:!0}:(e=Qf(r,n),t.index+=e.length,{value:e,done:!1})}));var il=J.Promise,sl={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},ul=s,al=mo,cl=cr,fl=io,ll=it("toStringTag");for(var pl in sl){var hl=ul[pl],dl=hl&&hl.prototype;dl&&al(dl)!==ll&&cl(dl,ll,pl),fl[pl]=fl.Array}var yl=il,vl=yl,gl=Ja,ml=Ca;Or({target:"Promise",stat:!0,forced:!0},{try:function(e){var t=gl.f(this),r=ml(e);return(r.error?t.reject:t.resolve)(r.value),t.promise}});var bl=vl;!function(e){e.exports=bl}(o),function(e){e.exports=o.exports}(n);var wl=r(n.exports);function Ol(e,t,r,n,o,i,s){try{var u=e[i](s),a=u.value}catch(e){return void r(e)}u.done?t(a):wl.resolve(a).then(n,o)}function Sl(e){return function(){var t=this,r=arguments;return new wl((function(n,o){var i=e.apply(t,r);function s(e){Ol(i,n,o,s,u,"next",e)}function u(e){Ol(i,n,o,s,u,"throw",e)}s(void 0)}))}}var xl={exports:{}},Rl={exports:{}},Tl={exports:{}},jl=Or,Pl=S,Al=Gt.f;jl({target:"Object",stat:!0,forced:Object.defineProperty!==Al,sham:!Pl},{defineProperty:Al});var El=J.Object,Cl=Tl.exports=function(e,t,r){return El.defineProperty(e,t,r)};El.defineProperty.sham&&(Cl.sham=!0);var _l=Tl.exports;!function(e){e.exports=_l}(Rl),function(e){e.exports=Rl.exports}(xl);var kl=r(xl.exports);function Il(e,t,r){return t in e?kl(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ll={exports:{}},Ml=sn.includes;Or({target:"Array",proto:!0,forced:u((function(){return!Array(1).includes()}))},{includes:function(e){return Ml(this,e,arguments.length>1?arguments[1]:void 0)}});var Ul=J,Fl=function(e){return Ul[e+"Prototype"]},Dl=Fl("Array").includes,Kl=$,Nl=U,Bl=it("match"),Vl=function(e){var t;return Kl(e)&&(void 0!==(t=e[Bl])?!!t:"RegExp"==Nl(e))},zl=Vl,Gl=TypeError,ql=it("match"),Wl=Or,Hl=function(e){if(zl(e))throw Gl("The method doesn't accept regular expressions");return e},$l=z,Jl=Jo,Yl=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[ql]=!1,"/./"[e](t)}catch(e){}}return!1},Zl=b("".indexOf);Wl({target:"String",proto:!0,forced:!Yl("includes")},{includes:function(e){return!!~Zl(Jl($l(this)),Jl(Hl(e)),arguments.length>1?arguments[1]:void 0)}});var Ql=Fl("String").includes,Xl=te,ep=Dl,tp=Ql,rp=Array.prototype,np=String.prototype,op=function(e){var t=e.includes;return e===rp||Xl(rp,e)&&t===rp.includes?ep:"string"==typeof e||e===np||Xl(np,e)&&t===np.includes?tp:t};!function(e){e.exports=op}(Ll);var ip=r(Ll.exports),sp={exports:{}};!function(e){e.exports=yl}(sp);var up=r(sp.exports),ap={exports:{}},cp="\t\n\v\f\r                　\u2028\u2029\ufeff",fp=z,lp=Jo,pp=b("".replace),hp="[\t\n\v\f\r                　\u2028\u2029\ufeff]",dp=RegExp("^"+hp+hp+"*"),yp=RegExp(hp+hp+"*$"),vp=function(e){return function(t){var r=lp(fp(t));return 1&e&&(r=pp(r,dp,"")),2&e&&(r=pp(r,yp,"")),r}},gp={start:vp(1),end:vp(2),trim:vp(3)},mp=Xi.PROPER,bp=u,wp=cp,Op=gp.trim;Or({target:"String",proto:!0,forced:function(e){return bp((function(){return!!wp[e]()||"​᠎"!=="​᠎"[e]()||mp&&wp[e].name!==e}))}("trim")},{trim:function(){return Op(this)}});var Sp=Fl("String").trim,xp=te,Rp=Sp,Tp=String.prototype,jp=function(e){var t=e.trim;return"string"==typeof e||e===Tp||xp(Tp,e)&&t===Tp.trim?Rp:t};!function(e){e.exports=jp}(ap);var Pp=r(ap.exports),Ap={exports:{}};!function(e,t){e.exports=function(e){var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function r(e,t){var r=e[0],n=e[1],o=e[2],i=e[3];n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&o|~n&i)+t[0]-680876936|0)<<7|r>>>25)+n|0)&n|~r&o)+t[1]-389564586|0)<<12|i>>>20)+r|0)&r|~i&n)+t[2]+606105819|0)<<17|o>>>15)+i|0)&i|~o&r)+t[3]-1044525330|0)<<22|n>>>10)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&o|~n&i)+t[4]-176418897|0)<<7|r>>>25)+n|0)&n|~r&o)+t[5]+1200080426|0)<<12|i>>>20)+r|0)&r|~i&n)+t[6]-1473231341|0)<<17|o>>>15)+i|0)&i|~o&r)+t[7]-45705983|0)<<22|n>>>10)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&o|~n&i)+t[8]+1770035416|0)<<7|r>>>25)+n|0)&n|~r&o)+t[9]-1958414417|0)<<12|i>>>20)+r|0)&r|~i&n)+t[10]-42063|0)<<17|o>>>15)+i|0)&i|~o&r)+t[11]-1990404162|0)<<22|n>>>10)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&o|~n&i)+t[12]+1804603682|0)<<7|r>>>25)+n|0)&n|~r&o)+t[13]-40341101|0)<<12|i>>>20)+r|0)&r|~i&n)+t[14]-1502002290|0)<<17|o>>>15)+i|0)&i|~o&r)+t[15]+1236535329|0)<<22|n>>>10)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&i|o&~i)+t[1]-165796510|0)<<5|r>>>27)+n|0)&o|n&~o)+t[6]-1069501632|0)<<9|i>>>23)+r|0)&n|r&~n)+t[11]+643717713|0)<<14|o>>>18)+i|0)&r|i&~r)+t[0]-373897302|0)<<20|n>>>12)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&i|o&~i)+t[5]-701558691|0)<<5|r>>>27)+n|0)&o|n&~o)+t[10]+38016083|0)<<9|i>>>23)+r|0)&n|r&~n)+t[15]-660478335|0)<<14|o>>>18)+i|0)&r|i&~r)+t[4]-405537848|0)<<20|n>>>12)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&i|o&~i)+t[9]+568446438|0)<<5|r>>>27)+n|0)&o|n&~o)+t[14]-1019803690|0)<<9|i>>>23)+r|0)&n|r&~n)+t[3]-187363961|0)<<14|o>>>18)+i|0)&r|i&~r)+t[8]+1163531501|0)<<20|n>>>12)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&i|o&~i)+t[13]-1444681467|0)<<5|r>>>27)+n|0)&o|n&~o)+t[2]-51403784|0)<<9|i>>>23)+r|0)&n|r&~n)+t[7]+1735328473|0)<<14|o>>>18)+i|0)&r|i&~r)+t[12]-1926607734|0)<<20|n>>>12)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n^o^i)+t[5]-378558|0)<<4|r>>>28)+n|0)^n^o)+t[8]-2022574463|0)<<11|i>>>21)+r|0)^r^n)+t[11]+1839030562|0)<<16|o>>>16)+i|0)^i^r)+t[14]-35309556|0)<<23|n>>>9)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n^o^i)+t[1]-1530992060|0)<<4|r>>>28)+n|0)^n^o)+t[4]+1272893353|0)<<11|i>>>21)+r|0)^r^n)+t[7]-155497632|0)<<16|o>>>16)+i|0)^i^r)+t[10]-1094730640|0)<<23|n>>>9)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n^o^i)+t[13]+681279174|0)<<4|r>>>28)+n|0)^n^o)+t[0]-358537222|0)<<11|i>>>21)+r|0)^r^n)+t[3]-722521979|0)<<16|o>>>16)+i|0)^i^r)+t[6]+76029189|0)<<23|n>>>9)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n^o^i)+t[9]-640364487|0)<<4|r>>>28)+n|0)^n^o)+t[12]-421815835|0)<<11|i>>>21)+r|0)^r^n)+t[15]+530742520|0)<<16|o>>>16)+i|0)^i^r)+t[2]-995338651|0)<<23|n>>>9)+o|0,n=((n+=((i=((i+=(n^((r=((r+=(o^(n|~i))+t[0]-198630844|0)<<6|r>>>26)+n|0)|~o))+t[7]+1126891415|0)<<10|i>>>22)+r|0)^((o=((o+=(r^(i|~n))+t[14]-1416354905|0)<<15|o>>>17)+i|0)|~r))+t[5]-57434055|0)<<21|n>>>11)+o|0,n=((n+=((i=((i+=(n^((r=((r+=(o^(n|~i))+t[12]+1700485571|0)<<6|r>>>26)+n|0)|~o))+t[3]-1894986606|0)<<10|i>>>22)+r|0)^((o=((o+=(r^(i|~n))+t[10]-1051523|0)<<15|o>>>17)+i|0)|~r))+t[1]-2054922799|0)<<21|n>>>11)+o|0,n=((n+=((i=((i+=(n^((r=((r+=(o^(n|~i))+t[8]+1873313359|0)<<6|r>>>26)+n|0)|~o))+t[15]-30611744|0)<<10|i>>>22)+r|0)^((o=((o+=(r^(i|~n))+t[6]-1560198380|0)<<15|o>>>17)+i|0)|~r))+t[13]+1309151649|0)<<21|n>>>11)+o|0,n=((n+=((i=((i+=(n^((r=((r+=(o^(n|~i))+t[4]-145523070|0)<<6|r>>>26)+n|0)|~o))+t[11]-1120210379|0)<<10|i>>>22)+r|0)^((o=((o+=(r^(i|~n))+t[2]+718787259|0)<<15|o>>>17)+i|0)|~r))+t[9]-343485551|0)<<21|n>>>11)+o|0,e[0]=r+e[0]|0,e[1]=n+e[1]|0,e[2]=o+e[2]|0,e[3]=i+e[3]|0}function n(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}function o(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return r}function i(e){var t,o,i,s,u,a,c=e.length,f=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)r(f,n(e.substring(t-64,t)));for(o=(e=e.substring(t-64)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<o;t+=1)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(r(f,i),t=0;t<16;t+=1)i[t]=0;return s=(s=8*c).toString(16).match(/(.*?)(.{0,8})$/),u=parseInt(s[2],16),a=parseInt(s[1],16)||0,i[14]=u,i[15]=a,r(f,i),f}function s(e){var t,n,i,s,u,a,c=e.length,f=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)r(f,o(e.subarray(t-64,t)));for(n=(e=t-64<c?e.subarray(t-64):new Uint8Array(0)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)i[t>>2]|=e[t]<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(r(f,i),t=0;t<16;t+=1)i[t]=0;return s=(s=8*c).toString(16).match(/(.*?)(.{0,8})$/),u=parseInt(s[2],16),a=parseInt(s[1],16)||0,i[14]=u,i[15]=a,r(f,i),f}function u(e){var r,n="";for(r=0;r<4;r+=1)n+=t[e>>8*r+4&15]+t[e>>8*r&15];return n}function a(e){var t;for(t=0;t<e.length;t+=1)e[t]=u(e[t]);return e.join("")}function c(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function f(e,t){var r,n=e.length,o=new ArrayBuffer(n),i=new Uint8Array(o);for(r=0;r<n;r+=1)i[r]=e.charCodeAt(r);return t?i:o}function l(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function p(e,t,r){var n=new Uint8Array(e.byteLength+t.byteLength);return n.set(new Uint8Array(e)),n.set(new Uint8Array(t),e.byteLength),r?n:n.buffer}function h(e){var t,r=[],n=e.length;for(t=0;t<n-1;t+=2)r.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,r)}function d(){this.reset()}return a(i("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(r,n){var o,i,s,u,a=this.byteLength,c=t(r,a),f=a;return n!==e&&(f=t(n,a)),c>f?new ArrayBuffer(0):(o=f-c,i=new ArrayBuffer(o),s=new Uint8Array(i),u=new Uint8Array(this,c,o),s.set(u),i)}}(),d.prototype.append=function(e){return this.appendBinary(c(e)),this},d.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,o=this._buff.length;for(t=64;t<=o;t+=64)r(this._hash,n(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},d.prototype.end=function(e){var t,r,n=this._buff,o=n.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=n.charCodeAt(t)<<(t%4<<3);return this._finish(i,o),r=a(this._hash),e&&(r=h(r)),this.reset(),r},d.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},d.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},d.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},d.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},d.prototype._finish=function(e,t){var n,o,i,s=t;if(e[s>>2]|=128<<(s%4<<3),s>55)for(r(this._hash,e),s=0;s<16;s+=1)e[s]=0;n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(n[2],16),i=parseInt(n[1],16)||0,e[14]=o,e[15]=i,r(this._hash,e)},d.hash=function(e,t){return d.hashBinary(c(e),t)},d.hashBinary=function(e,t){var r=a(i(e));return t?h(r):r},d.ArrayBuffer=function(){this.reset()},d.ArrayBuffer.prototype.append=function(e){var t,n=p(this._buff.buffer,e,!0),i=n.length;for(this._length+=e.byteLength,t=64;t<=i;t+=64)r(this._hash,o(n.subarray(t-64,t)));return this._buff=t-64<i?new Uint8Array(n.buffer.slice(t-64)):new Uint8Array(0),this},d.ArrayBuffer.prototype.end=function(e){var t,r,n=this._buff,o=n.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=n[t]<<(t%4<<3);return this._finish(i,o),r=a(this._hash),e&&(r=h(r)),this.reset(),r},d.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},d.ArrayBuffer.prototype.getState=function(){var e=d.prototype.getState.call(this);return e.buff=l(e.buff),e},d.ArrayBuffer.prototype.setState=function(e){return e.buff=f(e.buff,!0),d.prototype.setState.call(this,e)},d.ArrayBuffer.prototype.destroy=d.prototype.destroy,d.ArrayBuffer.prototype._finish=d.prototype._finish,d.ArrayBuffer.hash=function(e,t){var r=a(s(new Uint8Array(e)));return t?h(r):r},d}()}(Ap);var Ep=Ap.exports,Cp={exports:{}},_p=s,kp=u,Ip=b,Lp=Jo,Mp=gp.trim,Up=cp,Fp=_p.parseInt,Dp=_p.Symbol,Kp=Dp&&Dp.iterator,Np=/^[+-]?0x/i,Bp=Ip(Np.exec),Vp=8!==Fp(Up+"08")||22!==Fp(Up+"0x16")||Kp&&!kp((function(){Fp(Object(Kp))}))?function(e,t){var r=Mp(Lp(e));return Fp(r,t>>>0||(Bp(Np,r)?16:10))}:Fp;Or({global:!0,forced:parseInt!=Vp},{parseInt:Vp});var zp=J.parseInt;!function(e){e.exports=zp}(Cp);var Gp=r(Cp.exports),qp={exports:{}},Wp={exports:{}},Hp=Jt,$p=T,Jp=ze,Yp=te,Zp=function(){var e=Hp(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},Qp=RegExp.prototype,Xp=Zf.charAt,eh=T,th=Jt,rh=w,nh=U,oh=/./.exec,ih=TypeError,sh=Or,uh=T,ah=b,ch=js,fh=z,lh=Qr,ph=Jo,hh=Jt,dh=U,yh=Vl,vh=function(e){var t=e.flags;return void 0!==t||"flags"in Qp||Jp(e,"flags")||!Yp(Qp,e)?t:$p(Zp,e)},gh=je,mh=u,bh=ju,wh=function(e,t,r){return t+(r?Xp(e,t).length:1)},Oh=function(e,t){var r=e.exec;if(rh(r)){var n=eh(r,e,t);return null!==n&&th(n),n}if("RegExp"===nh(e))return eh(oh,e,t);throw ih("RegExp#exec called on incompatible receiver")},Sh=Hi,xh=it("matchAll"),Rh="RegExp String",Th="RegExp String Iterator",jh=Sh.set,Ph=Sh.getterFor(Th),Ah=TypeError,Eh=ah("".indexOf),Ch=ah("".matchAll),_h=!!Ch&&!mh((function(){Ch("a",/./)})),kh=ch((function(e,t,r,n){jh(this,{type:Th,regexp:e,string:t,global:r,unicode:n,done:!1})}),Rh,(function(){var e=Ph(this);if(e.done)return{value:void 0,done:!0};var t=e.regexp,r=e.string,n=Oh(t,r);return null===n?{value:void 0,done:e.done=!0}:e.global?(""===ph(n[0])&&(t.lastIndex=wh(r,lh(t.lastIndex),e.unicode)),{value:n,done:!1}):(e.done=!0,{value:n,done:!1})})),Ih=function(e){var t,r,n,o=hh(this),i=ph(e),s=bh(o,RegExp),u=ph(vh(o));return t=new s(s===RegExp?o.source:o,u),r=!!~Eh(u,"g"),n=!!~Eh(u,"u"),t.lastIndex=lh(o.lastIndex),new kh(t,i,r,n)};sh({target:"String",proto:!0,forced:_h},{matchAll:function(e){var t,r,n,o,i=fh(this);if(null!=e){if(yh(e)&&(t=ph(fh(vh(e))),!~Eh(t,"g")))throw Ah("`.matchAll` does not allow non-global regexes");if(_h)return Ch(i,e);if(void 0===(n=gh(e,xh))&&"RegExp"==dh(e)&&(n=Ih),n)return uh(n,e,i)}else if(_h)return Ch(i,e);return r=ph(i),o=new RegExp(e,"g"),uh(Ih,o,r)}});var Lh=Fl("String").matchAll,Mh=te,Uh=Lh,Fh=String.prototype,Dh=function(e){var t=e.matchAll;return"string"==typeof e||e===Fh||Mh(Fh,e)&&t===Fh.matchAll?Uh:t};!function(e){e.exports=Dh}(Wp),function(e){e.exports=Wp.exports}(qp);var Kh=r(qp.exports),Nh={exports:{}},Bh=Re,Vh=Ne,zh=B,Gh=en,qh=TypeError,Wh=function(e){return function(t,r,n,o){Bh(r);var i=Vh(t),s=zh(i),u=Gh(i),a=e?u-1:0,c=e?-1:1;if(n<2)for(;;){if(a in s){o=s[a],a+=c;break}if(a+=c,e?a<0:u<=a)throw qh("Reduce of empty array with no initial value")}for(;e?a>=0:u>a;a+=c)a in s&&(o=r(o,s[a],a,i));return o}},Hh={left:Wh(!1),right:Wh(!0)},$h=u,Jh=Hh.left,Yh=function(e,t){var r=[][e];return!!r&&$h((function(){r.call(null,t||function(){return 1},1)}))},Zh=ce,Qh=Js;Or({target:"Array",proto:!0,forced:!Yh("reduce")||!Qh&&Zh>79&&Zh<83},{reduce:function(e){var t=arguments.length;return Jh(this,e,t,t>1?arguments[1]:void 0)}});var Xh=Fl("Array").reduce,ed=te,td=Xh,rd=Array.prototype,nd=function(e){var t=e.reduce;return e===rd||ed(rd,e)&&t===rd.reduce?td:t};!function(e){e.exports=nd}(Nh);var od=r(Nh.exports);function id(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?id(Object(r),!0).forEach((function(t){Il(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):id(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ud=(e,t)=>{var r=e&&e.get(t);return null===r?null:Gp(r,10)};class ad{constructor(e,t,r){this.raw=e,this.options=t,this.response=r}getResponseType(){return"ApiResponse"}getData(){return this.raw}getLinks(){return"links"in this.raw?this.raw.links:null}getMeta(){return"meta"in this.raw?this.raw.meta:null}getVersion(){var e;return ud(null===(e=this.response)||void 0===e?void 0:e.headers,"Last-Modified-Version")}}class cd extends ad{getResponseType(){return"SingleReadResponse"}getData(){return this.raw&&"data"in this.raw?this.raw.data:this.raw}}class fd extends ad{getResponseType(){return"MultiReadResponse"}getData(){return this.raw.map((e=>"data"in e?e.data:"tag"in e?{tag:e.tag}:e))}getLinks(){return this.raw.map((e=>"links"in e&&e.links||null))}getMeta(){return this.raw.map((e=>"meta"in e&&e.meta||null))}getTotalResults(){var e;return ud(null===(e=this.response)||void 0===e?void 0:e.headers,"Total-Results")}getRelLinks(){var e,t,r,n=null!==(e=null===(t=this.response)||void 0===t?void 0:t.headers.get("link"))&&void 0!==e?e:"",o=Array.from(Kh(n).call(n,/<(.*?)>;\s+rel="(.*?)"/gi));return od(r=Array.from(o)).call(r,((e,t)=>{var[r,n,o]=t;return e[o]=n,e}),{})}}class ld extends ad{getResponseType(){return"SingleWriteResponse"}getData(){return sd(sd({},this.options.body),{},{version:this.getVersion()})}}class pd extends ad{getResponseType(){return"MultiWriteResponse"}isSuccess(){return 0===Object.keys(this.raw.failed).length}getData(){return this.options.body.map(((e,t)=>{if((t=t.toString())in this.raw.success){var r=this.raw.successful&&this.raw.successful[t]||{};return sd(sd(sd({},e),r.data),{},{key:this.raw.success[t],version:this.getVersion()})}return e}))}getLinks(){return this.options.body.map(((e,t)=>{if("successful"in this.raw){var r=this.raw.successful[t.toString()];if(r)return r.links||{}}return null}))}getMeta(){return this.options.body.map(((e,t)=>{if("successful"in this.raw){var r=this.raw.successful[t.toString()];if(r)return r.meta||{}}return null}))}getErrors(){var e={};for(var t of Object.keys(this.raw.failed))e[Gp(t,10)]=this.raw.failed[t];return e}getEntityByKey(e){var t=this.options.body.findIndex((t=>t.key===e));if(t>-1)return this.getEntityByIndex(t);throw new Error("Key ".concat(e," is not present in the request"))}getEntityByIndex(e){if("string"==typeof e&&(e=Gp(e,10)),e.toString()in this.raw.success){var t=this.raw.successful&&this.raw.successful[e.toString()]||{};return sd(sd(sd({},this.options.body[e]),t.data),{},{key:this.raw.success[e],version:this.getVersion()})}if(e.toString()in this.raw.unchanged)return this.options.body[e];if(e.toString()in this.raw.failed)throw new Error("".concat(this.raw.failed[e.toString()].code,": ").concat(this.raw.failed[e.toString()].message));throw new Error("Index ".concat(e," is not present in the reponse"))}}class hd extends ad{getResponseType(){return"DeleteResponse"}}class dd extends ad{constructor(e,t,r,n,o){super(e,t,r),this.uploadResponse=n,this.registerResponse=o}getResponseType(){return"FileUploadResponse"}getVersion(){var e,t;return this.registerResponse?ud(null===(e=this.registerResponse)||void 0===e?void 0:e.headers,"Last-Modified-Version"):ud(null===(t=this.response)||void 0===t?void 0:t.headers,"Last-Modified-Version")}}class yd extends ad{getResponseType(){return"FileDownloadResponse"}}class vd extends ad{getResponseType(){return"FileUrlResponse"}}class gd extends ad{constructor(e,t){super(e,t,e)}getResponseType(){return"RawApiResponse"}}class md extends ad{getResponseType(){return"PretendResponse"}getVersion(){return null}}class bd extends Error{constructor(e,t,r,n){super(e),this.response=r,this.reason=t,this.message=e,this.options=n}getResponseType(){return"ErrorResponse"}}function wd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Od(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wd(Object(r),!0).forEach((function(t){Il(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Sd={authorization:"Authorization",contentType:"Content-Type",ifMatch:"If-Match",ifModifiedSinceVersion:"If-Modified-Since-Version",ifNoneMatch:"If-None-Match",ifUnmodifiedSinceVersion:"If-Unmodified-Since-Version",zoteroApiKey:"Zotero-API-Key",zoteroWriteToken:"Zotero-Write-Token"},xd=["tag","itemTag"],Rd=["collectionKey","content","direction","format","include","includeTrashed","itemKey","itemQ","itemQMode","itemTag","itemType","limit","linkMode","locale","q","qmode","searchKey","since","sort","start","style","tag"],Td=["body","cache","credentials","method","mode","redirect","signal"],jd=[{name:"library",urlPart:"library",isKeyResource:!0},{name:"collections",urlPart:"collections",isKeyResource:!0},{name:"publications",urlPart:"publications",isKeyResource:!1},{name:"items",urlPart:"items",isKeyResource:!0},{name:"searches",urlPart:"searches",isKeyResource:!0},{name:"top",urlPart:"top",isKeyResource:!1},{name:"trash",urlPart:"trash",isKeyResource:!1},{name:"tags",urlPart:"tags",isKeyResource:!0},{name:"children",urlPart:"children",isKeyResource:!1},{name:"groups",urlPart:"groups",isKeyResource:!1},{name:"subcollections",urlPart:"collections",isKeyResource:!1},{name:"itemTypes",urlPart:"itemTypes",isKeyResource:!1},{name:"itemFields",urlPart:"itemFields",isKeyResource:!1},{name:"creatorFields",urlPart:"creatorFields",isKeyResource:!1},{name:"itemTypeFields",urlPart:"itemTypeFields",isKeyResource:!1},{name:"itemTypeCreatorTypes",urlPart:"itemTypeCreatorTypes",isKeyResource:!1},{name:"template",urlPart:"items/new",isKeyResource:!1},{name:"file",urlPart:"file",isKeyResource:!1},{name:"fileUrl",urlPart:"file/view/url",isKeyResource:!1},{name:"settings",urlPart:"settings",isKeyResource:!0},{name:"deleted",urlPart:"deleted",isKeyResource:!1},{name:"verifyKeyAccess",urlPart:"keys/current",isKeyResource:!1}],Pd={apiAuthorityPart:"api.zotero.org",cache:"default",contentType:"application/json",credentials:"omit",format:"json",method:"get",mode:"cors",pretend:!1,redirect:"follow",resource:{},retry:0,retryDelay:null,uploadRegisterOnly:null},Ad=(e,t)=>t in e&&null!==e[t]&&void 0!==e[t],Ed=function(){var e=Sl((function*(e,t,r){var n,o=e.clone();throw n=yield o.text(),new bd("".concat(r).concat(e.status,": ").concat(e.statusText),n,e,t)}));return function(t,r,n){return e.apply(this,arguments)}}(),Cd=e=>408==e.status||e.status>=500,_d=e=>new up((t=>{setTimeout((()=>{t()}),1e3*e)})),kd=function(){var e=Sl((function*(e){var t;if("response"in e&&e.response)return e;var r=Od(Od({},Pd),e),n={};for(var o of Object.keys(Sd))o in r&&(n[Sd[o]]=r[o]);var i=(e=>{var t=[];for(var r of jd){var n=e[r.name];r.name in e&&("library"===r.name?"u"===n.charAt(0)?t.push("users",n.slice(1)):"g"===n.charAt(0)&&t.push("groups",n.slice(1)):(t.push(r.urlPart),r.isKeyResource&&e[r.name]&&t.push(n)))}return t.join("/")})(r.resource),s=(e=>{var t=[],r=function(r){e[r]&&(ip(xd).call(xd,r)&&Array.isArray(e[r])?t.push(...e[r].map((e=>"".concat(r,"=").concat(encodeURIComponent(e))))):t.push("".concat(r,"=").concat(encodeURIComponent(e[r]))))};for(var n of Rd)r(n);return t.length?"?"+t.join("&"):""})(r),u="https://".concat(r.apiAuthorityPart,"/").concat(i).concat(s),a={};for(var c of Td)"body"===c&&Ad(r,c)?a[c]=JSON.stringify(r[c]):a[c]=r[c];if(Ad(r,"body")&&Ad(r,"file"))throw new Error('Cannot use both "file" and "body" in a single request.');if(Ad(r,"file")&&Ad(r,"fileName")){var f=r.fileName,l=Ep.ArrayBuffer.hash(r.file),p=r.file.byteLength,h=r.mtime||Date.now();a.body="md5=".concat(l,"&filename=").concat(f,"&filesize=").concat(p,"&mtime=").concat(h)}if(!0===r.uploadRegisterOnly){var{fileName:d,fileSize:y,md5sum:v,mtime:g}=r;a.body="md5=".concat(v,"&filename=").concat(d,"&filesize=").concat(y,"&mtime=").concat(g)}if(a.method=a.method.toUpperCase(),a.headers=n,r.retryCount=0,r.pretend)return Od(Od({response:new md({url:u,fetchConfig:a},r)},e),{},{source:"request"});var m=yield fetch(u,a);if(Cd(m)&&r.retry>0)for(var b=r.retry,w="number"==typeof r.retryDelay?r.retryDelay:1;b>0&&(yield _d(w),r.retryCount++,m=yield fetch(u,a),Cd(m));)"number"!=typeof r.retryDelay&&(w*=2),b--;if(Ad(r,"file")&&Ad(r,"fileName")||!0===r.uploadRegisterOnly){if(!m.ok)return yield Ed(m,r,"Upload stage 1: ");var O=yield m.json();if("exists"in O&&O.exists)t=new dd(O,r,m);else{if(!0===r.uploadRegisterOnly)throw new bd("API did not recognize provided file meta.","Attempted to register existing file, but API did not recognize provided file meta.",m,r);var S=new Uint8ClampedArray(O.prefix.split("").map((e=>e.charCodeAt(0)))),x=new Uint8ClampedArray(O.suffix.split("").map((e=>e.charCodeAt(0)))),R=new Uint8ClampedArray(S.byteLength+r.file.byteLength+x.byteLength);R.set(S,0),R.set(new Uint8ClampedArray(r.file),S.byteLength),R.set(x,S.byteLength+r.file.byteLength);var T=yield fetch(O.url,{headers:{[Sd.contentType]:O.contentType},method:"post",body:R.buffer});if(201!==T.status)return yield Ed(T,r,"Upload stage 2: ");var j=yield fetch(u,Od(Od({},a),{},{body:"upload=".concat(O.uploadKey)}));if(!j.ok)return yield Ed(j,r,"Upload stage 3: ");t=new dd({},r,m,T,j)}}else{if(m.status<200||m.status>=400)return yield Ed(m,r,"");var P;if("json"===r.format){try{P=yield m.json()}catch(e){P=null}switch(r.method.toUpperCase()){case"GET":default:t="library"in r.resource?P&&Array.isArray(P)?new fd(P,r,m):new cd(P,r,m):new ad(P,r,m);break;case"POST":case"PUT":case"PATCH":t=P&&"object"==typeof P&&"success"in P?new pd(P,r,m):new ld(P,r,m);break;case"DELETE":t=new hd(P,r,m)}}else if("file"in r.resource&&"GET"===r.method.toUpperCase()){var A=yield m.arrayBuffer();t=new yd(A,r,m)}else if("fileUrl"in r.resource&&"GET"===r.method.toUpperCase()){var E,C=yield m.text();t=new vd(Pp(E=C.replace("\n","")).call(E),r,m)}else t=new gd(m,r)}return Od(Od({},e),{},{source:"request",response:t})}));return function(t){return e.apply(this,arguments)}}();function Id(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ld(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Id(Object(r),!0).forEach((function(t){Il(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Id(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}e.ApiResponse=ad,e.DeleteResponse=hd,e.ErrorResponse=bd,e.FileDownloadResponse=yd,e.FileUploadResponse=dd,e.FileUrlResponse=vd,e.MultiReadResponse=fd,e.MultiWriteResponse=pd,e.PretendResponse=md,e.RawApiResponse=gd,e.SingleReadResponse=cd,e.SingleWriteResponse=ld,e.default=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Ld({},t);return"executors"in r||this&&"executors"in this||(r.executors=[kd]),e&&(r.zoteroApiKey=e),L.bind(this)(r)},t=function(){var e;if(arguments.length>1)switch(arguments[0].toLowerCase()){case"user":e="u".concat(arguments[1]);break;case"group":e="g".concat(arguments[1]);break;default:throw new Error("Unrecognized library type ".concat(arguments[0]))}else e=arguments[0];return M.bind(this)({library:e})},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return M.bind(this)({items:e})},n=function(){return M.bind(this)({itemTypes:null})},o=function(){return M.bind(this)({itemFields:null})},i=function(){return M.bind(this)({creatorFields:null})},s=function(e){return M.bind(this)({itemTypeFields:null},e?{itemType:e}:{})},u=function(e){return M.bind(this)({itemTypeCreatorTypes:null},e?{itemType:e}:{})},a=function(e){return M.bind(this)({template:null},e?{itemType:e}:{})},c=function(e){return M.bind(this)({collections:e||null})},f=function(){return M.bind(this)({subcollections:null})},l=function(){return M.bind(this)({publications:null})},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return M.bind(this)({tags:e})},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return M.bind(this)({searches:e})},d=function(){return M.bind(this)({top:null})},y=function(){return M.bind(this)({trash:null})},v=function(){return M.bind(this)({children:null})},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return M.bind(this)({settings:e})},m=function(e){var t=Ld(Ld({},this.resource),{},{deleted:null});return L.bind(this)({since:e,resource:t})},b=function(){return M.bind(this)({groups:null})},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return L.bind(this)({version:e})},O=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=Ld(Ld({},this.resource),{},{file:null});return e&&t?L.bind(this)({format:null,[n?"ifMatch":"ifNoneMatch"]:n||"*",contentType:"application/x-www-form-urlencoded",fileName:e,file:t,resource:o,mtime:r}):L.bind(this)({format:null,resource:o})},S=function(e,t,r,n){var o=Ld(Ld({},this.resource),{},{file:null});if(e&&void 0!==t&&void 0!==r&&n)return L.bind(this)({contentType:"application/x-www-form-urlencoded",fileName:e,fileSize:t,format:null,ifMatch:n,md5sum:n,mtime:r,resource:o,uploadRegisterOnly:!0});throw new Error("Called registerAttachment() without specifing required parameters")},x=function(){var e=Ld(Ld({},this.resource),{},{fileUrl:null});return L.bind(this)({format:null,resource:e})},R=function(){return M.bind(this)({verifyKeyAccess:null})},T=function(e){return F(U(this,"get",e))},j=function(e,t){return F(U(this,"post",t,e))},P=function(e,t){return F(U(this,"put",t,e))},A=function(e,t){return F(U(this,"patch",t,e))},E=function(e,t){return F(U(this,"delete",t,e))},C=function(){return this},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"get",t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return F(U(this,e,Ld(Ld({},r),{},{pretend:!0}),t))},k=function(e){return e({config:this,functions:I,ef:L,efr:M,execute:F})},I={api:e,attachment:O,attachmentUrl:x,children:v,collections:c,creatorFields:i,delete:E,deleted:m,get:T,getConfig:C,groups:b,itemFields:o,items:r,itemTypeCreatorTypes:u,itemTypeFields:s,itemTypes:n,library:t,patch:A,post:j,pretend:_,publications:l,put:P,registerAttachment:S,searches:h,settings:g,subcollections:f,tags:p,template:a,top:d,trash:y,use:k,verifyKeyAccess:R,version:w},L=function(e){var t=Ld(Ld({},this),e),r={};for(var n in I)r[n]=I[n].bind(t);return r},M=function(e,t){return e=Ld(Ld({},this.resource),e),t=Ld(Ld({},t),{},{resource:e}),L.bind(this)(t)},U=function(e,t,r,n){var o,i,s,u=t.toLowerCase();switch(u){default:case"get":return"version"in(i=Ld(Ld(Ld({},e),r),{},{method:u}))&&(i.ifModifiedSinceVersion=i.version,delete i.version),i;case"post":case"put":case"patch":return"version"in(i=Ld(Ld(Ld({},e),r),{},{body:n,method:u}))&&(i.ifUnmodifiedSinceVersion=i.version,delete i.version),i;case"delete":if(i=Ld(Ld(Ld({},e),r),{},{method:u}),(s=n)&&!Array.isArray(s))throw new Error("Called delete() with ".concat(typeof s,", expected an Array"));if("version"in i&&(i.ifUnmodifiedSinceVersion=i.version,delete i.version),"resource"in i&&"items"in i.resource)o="itemKey";else if("resource"in i&&"collections"in i.resource)o="collectionKey";else if("resource"in i&&"tags"in i.resource)o="tag";else if("resource"in i&&"searches"in i.resource)o="searchKey";else{if(!("resource"in i)||!("settings"in i.resource))throw new Error("Called delete() without first specifing what to delete");if(s)throw new Error("Arguments to delete() not supported when deleting settings")}return s&&(i[o]=[...i[o]||[],...s]),i}},F=function(){var e=Sl((function*(e){for(var t of e.executors)e=yield t(e);return e.response}));return function(t){return e.apply(this,arguments)}}();return e(...arguments)},e.request=kd,Object.defineProperty(e,"__esModule",{value:!0})}));